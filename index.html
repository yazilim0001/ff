<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>YÄ±lbaÅŸÄ± Hediyesi</title>
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            height: 100vh;
            background-color: #f0f0f0;
            margin: 0;
            overflow: hidden;
        }
        canvas {
            position: absolute;
            top: 0;
            left: 0;
            z-index: 1;
        }
        .heart {
            width: 120px;
            cursor: pointer;
            transition: transform 0.5s;
            z-index: 10;
        }
        #text {
            font-size: 20px;
            margin-top: 20px;
            font-family: 'Dancing Script', cursive; /* Romantik Dancing Script fontu */
            color: #000000;
            max-width: 90%;
            text-align: center;
            z-index: 10;
            font-weight: bold;
            padding: 0 30px; /* SaÄŸ ve soldan daha fazla boÅŸluk bÄ±rakÄ±ldÄ± */
            box-sizing: border-box; /* Padding nedeniyle geniÅŸliÄŸi aÅŸmasÄ±n diye box-sizing ekledik */
        }

        /* Responsive styling for larger screens */
        @media (min-width: 768px) {
            .heart {
                width: 150px;
            }
            #text {
                font-size: 20px;
                max-width: 600px;
            }
        }
        /* Responsive styling for mobile screens */
        @media (max-width: 480px) {
            .heart {
                width: 120px;
            }
            #text {
                font-size: 16px;
                max-width: 100%; /* YazÄ± iÃ§in max-width %100 yapÄ±ldÄ± */
                padding: 0 42px; /* SaÄŸ ve sol padding arttÄ±rÄ±ldÄ± */
                margin-top: 15px; /* Ãœstten biraz boÅŸluk */
                line-height: 1.6; /* SatÄ±r aralÄ±ÄŸÄ±nÄ± artÄ±rdÄ±k */
            }
        }
    </style>
</head>
<body>
    <canvas id="heartsCanvas"></canvas>
    <img src="kalp.png" alt="Kalp" class="heart" id="heart">
    <div id="text"></div>

    <!-- Canvas Confetti KÃ¼tÃ¼phanesi -->
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    <script>
        const canvas = document.getElementById('heartsCanvas');
        const ctx = canvas.getContext('2d');
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;

        const textElement = document.getElementById('text');
        const heart = document.getElementById('heart');
        let isAnimatingText = false;

        const hearts = [];
        const heartImage = new Image();
        heartImage.src = 'kalp.png'; // Kalp resminizin yolunu buraya yazÄ±n

        // Kalp oluÅŸturma fonksiyonu
        function createHeart() {
            const size = Math.random() * 40 + 10; // Kalp boyutu rastgele kÃ¼Ã§Ã¼k ve bÃ¼yÃ¼k
            const x = (Math.random() - 0.2) * canvas.width + canvas.width * 0.4; // SaÄŸ tarafa daha yakÄ±n
            const y = Math.random() * (canvas.height / 2) + (canvas.height / 4); // YÃ¼kseklik, ekranÄ±n ortasÄ±na yakÄ±n
            const speedX = (Math.random() - 0.5) * 4;
            const speedY = (Math.random() - 0.5) * 2;
            hearts.push({ x, y, size, speedX, speedY });
        }

        // Kalp Ã§izim fonksiyonu
        function drawHearts() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            hearts.forEach((heart, index) => {
                heart.x += heart.speedX;
                heart.y += heart.speedY;
                if (heart.x < 0 || heart.x > canvas.width || heart.y < 0 || heart.y > canvas.height) {
                    hearts.splice(index, 1);
                    createHeart();
                }
                ctx.drawImage(heartImage, heart.x, heart.y, heart.size, heart.size);
            });
            requestAnimationFrame(drawHearts);
        }

        // YazÄ± yazma ve silme fonksiyonlarÄ±
        function typeText(text, callback) {
            if (isAnimatingText) return; // Ã–nceki animasyon bitmeden tekrar baÅŸlama
            isAnimatingText = true;
            textElement.textContent = "";
            let index = 0;
            const interval = setInterval(() => {
                textElement.textContent += text[index];
                index++;
                if (index === text.length) {
                    clearInterval(interval);
                    setTimeout(() => deleteText(callback), 500);
                }
            }, 50);
        }

        function deleteText(callback) {
            let length = textElement.textContent.length;
            const interval = setInterval(() => {
                textElement.textContent = textElement.textContent.slice(0, --length);
                if (length === 0) {
                    clearInterval(interval);
                    isAnimatingText = false;
                    callback();
                }
            }, 50);
        }

        // Kalp ve yazÄ± ile etkileÅŸim
        heart.addEventListener('click', () => {
            heart.classList.add('beat');
            heart.classList.add('rotate');
            heart.style.transform = 'rotate(270deg)';
            setTimeout(() => {
                heart.classList.remove('beat');
                heart.classList.remove('rotate');
                heart.style.transform = 'none';
            }, 500);

            typeText("Yeni yÄ±lÄ±n kutlu olsun! BaÅŸarÄ± ve mutluluk hep seninle olsun. Hayallerini gerÃ§ekleÅŸtirmen dileÄŸiyle. I am sending you my love. ğŸ’–", () => {
                console.log("Text animation completed");
            });
            launchConfetti(); // Her tÄ±klamada konfeti patlat
        });

        // Konfeti patlatma fonksiyonu
        function launchConfetti() {
            confetti({
                particleCount: 100,
                spread: 70,
                origin: { y: 0.6 } // Konfeti baÅŸlangÄ±Ã§ yÃ¼ksekliÄŸi
            });
        }

        // Kalp hareketlerini baÅŸlat
        heartImage.onload = () => {
            const heartCount = window.innerWidth < 480 ? Math.floor(40 * 1.3) : Math.floor(20 * 1.3); // Ekrana gÃ¶re %30 artÄ±rdÄ±k
            for (let i = 0; i < heartCount; i++) {
                createHeart();
            }
            drawHearts();
        };
    </script>
</body>
</html>
